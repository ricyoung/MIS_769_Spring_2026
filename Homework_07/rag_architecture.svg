<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1344 768" width="1344" height="768">
  <defs>
    <linearGradient id="retrieveGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4a9eff;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0066cc;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="augmentGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4ecdc4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#26a69a;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="generateGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ffd700;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#cc9900;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="vectorGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#9966cc;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7744aa;stop-opacity:1" />
    </linearGradient>

    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="3" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <marker id="arrowBlue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4a9eff"/>
    </marker>
    <marker id="arrowTeal" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4ecdc4"/>
    </marker>
    <marker id="arrowGold" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ffd700"/>
    </marker>
    <marker id="arrowPurple" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#9966cc"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1344" height="768" fill="#1a1a2e"/>

  <!-- Title -->
  <text x="672" y="45" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="32" font-weight="bold" fill="white" text-anchor="middle">Retrieval-Augmented Generation (RAG)</text>
  <text x="672" y="78" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="18" fill="#888" text-anchor="middle">Grounding LLM responses with external knowledge</text>

  <!-- RAG acronym explanation -->
  <g transform="translate(672, 120)">
    <rect x="-350" y="-25" width="700" height="50" rx="25" fill="#252540" filter="url(#shadow)"/>
    <text y="8" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="20" fill="white" text-anchor="middle">
      <tspan fill="#4a9eff" font-weight="bold">R</tspan><tspan fill="#888">etrieval</tspan>
      <tspan fill="#666"> + </tspan>
      <tspan fill="#4ecdc4" font-weight="bold">A</tspan><tspan fill="#888">ugmented</tspan>
      <tspan fill="#666"> + </tspan>
      <tspan fill="#ffd700" font-weight="bold">G</tspan><tspan fill="#888">eneration</tspan>
    </text>
  </g>

  <!-- Main Pipeline -->
  <!-- User Query -->
  <g transform="translate(100, 200)">
    <rect x="0" y="0" width="200" height="80" rx="10" fill="#252540" filter="url(#shadow)"/>
    <rect x="0" y="0" width="200" height="8" rx="4" fill="#ff6b6b"/>
    <text x="100" y="35" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">User Query</text>
    <text x="100" y="58" font-family="Georgia, serif" font-size="12" fill="#aaa" text-anchor="middle">"What are the side</text>
    <text x="100" y="73" font-family="Georgia, serif" font-size="12" fill="#aaa" text-anchor="middle">effects of aspirin?"</text>
  </g>

  <!-- Arrow to Embedding -->
  <path d="M 310 240 L 380 240" fill="none" stroke="#ff6b6b" stroke-width="3" marker-end="url(#arrowBlue)"/>

  <!-- Query Embedding -->
  <g transform="translate(400, 200)">
    <rect x="0" y="0" width="150" height="80" rx="10" fill="url(#vectorGrad)" filter="url(#glow)"/>
    <text x="75" y="35" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="13" font-weight="bold" fill="white" text-anchor="middle">Embed Query</text>
    <text x="75" y="55" font-family="SF Mono, Menlo, monospace" font-size="10" fill="rgba(255,255,255,0.8)" text-anchor="middle">[0.23, -0.15,</text>
    <text x="75" y="70" font-family="SF Mono, Menlo, monospace" font-size="10" fill="rgba(255,255,255,0.8)" text-anchor="middle">0.89, ...]</text>
  </g>

  <!-- Vector Database -->
  <g transform="translate(400, 340)">
    <rect x="0" y="0" width="250" height="180" rx="12" fill="#252540" filter="url(#shadow)"/>
    <rect x="0" y="0" width="250" height="8" rx="4" fill="url(#retrieveGrad)"/>

    <text x="125" y="35" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">Vector Database</text>

    <!-- Document chunks as vectors -->
    <g transform="translate(20, 55)">
      <rect x="0" y="0" width="210" height="35" rx="6" fill="#1a1a2e"/>
      <circle cx="20" cy="17" r="10" fill="#4a9eff"/>
      <text x="40" y="22" font-family="SF Mono, Menlo, monospace" font-size="10" fill="#888">Doc 1: "Aspirin can cause..."</text>
    </g>

    <g transform="translate(20, 95)">
      <rect x="0" y="0" width="210" height="35" rx="6" fill="#1a1a2e" stroke="#4ecdc4" stroke-width="2"/>
      <circle cx="20" cy="17" r="10" fill="#4ecdc4" filter="url(#glow)"/>
      <text x="40" y="22" font-family="SF Mono, Menlo, monospace" font-size="10" fill="#4ecdc4">Doc 2: "Side effects include..."</text>
    </g>

    <g transform="translate(20, 135)">
      <rect x="0" y="0" width="210" height="35" rx="6" fill="#1a1a2e"/>
      <circle cx="20" cy="17" r="10" fill="#4a9eff"/>
      <text x="40" y="22" font-family="SF Mono, Menlo, monospace" font-size="10" fill="#888">Doc 3: "Drug interactions..."</text>
    </g>
  </g>

  <!-- Arrow from Query to Vector DB -->
  <path d="M 475 285 L 475 330" fill="none" stroke="#9966cc" stroke-width="3" marker-end="url(#arrowPurple)"/>
  <text x="490" y="310" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="11" fill="#9966cc">Similarity Search</text>

  <!-- Retrieved Documents -->
  <g transform="translate(700, 340)">
    <rect x="0" y="0" width="250" height="180" rx="12" fill="#252540" filter="url(#shadow)"/>
    <rect x="0" y="0" width="250" height="8" rx="4" fill="url(#augmentGrad)"/>

    <text x="125" y="35" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">Retrieved Context</text>
    <text x="125" y="55" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="11" fill="#888" text-anchor="middle">Top-k most relevant chunks</text>

    <rect x="15" y="70" width="220" height="90" rx="8" fill="#1a1a2e"/>
    <text x="125" y="95" font-family="Georgia, serif" font-size="11" fill="#4ecdc4" text-anchor="middle">"Common side effects of aspirin</text>
    <text x="125" y="112" font-family="Georgia, serif" font-size="11" fill="#4ecdc4" text-anchor="middle">include stomach upset, heartburn,</text>
    <text x="125" y="129" font-family="Georgia, serif" font-size="11" fill="#4ecdc4" text-anchor="middle">and in rare cases, bleeding..."</text>
  </g>

  <!-- Arrow from VectorDB to Retrieved -->
  <path d="M 660 430 L 690 430" fill="none" stroke="#4ecdc4" stroke-width="3" marker-end="url(#arrowTeal)"/>

  <!-- LLM -->
  <g transform="translate(1000, 200)">
    <rect x="0" y="0" width="250" height="320" rx="12" fill="#252540" filter="url(#shadow)"/>
    <rect x="0" y="0" width="250" height="8" rx="4" fill="url(#generateGrad)"/>

    <text x="125" y="40" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="18" font-weight="bold" fill="white" text-anchor="middle">LLM</text>

    <!-- Augmented prompt -->
    <g transform="translate(15, 60)">
      <rect x="0" y="0" width="220" height="150" rx="8" fill="#1a1a2e"/>
      <text x="110" y="20" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="11" fill="#ffd700" text-anchor="middle" font-weight="bold">Augmented Prompt:</text>
      <text x="110" y="45" font-family="SF Mono, Menlo, monospace" font-size="9" fill="#888" text-anchor="middle">Context: "Common side</text>
      <text x="110" y="58" font-family="SF Mono, Menlo, monospace" font-size="9" fill="#888" text-anchor="middle">effects of aspirin include</text>
      <text x="110" y="71" font-family="SF Mono, Menlo, monospace" font-size="9" fill="#888" text-anchor="middle">stomach upset..."</text>
      <line x1="20" y1="85" x2="200" y2="85" stroke="#444" stroke-width="1"/>
      <text x="110" y="105" font-family="SF Mono, Menlo, monospace" font-size="9" fill="#888" text-anchor="middle">Question: "What are the</text>
      <text x="110" y="118" font-family="SF Mono, Menlo, monospace" font-size="9" fill="#888" text-anchor="middle">side effects of aspirin?"</text>
      <line x1="20" y1="130" x2="200" y2="130" stroke="#444" stroke-width="1"/>
      <text x="110" y="145" font-family="SF Mono, Menlo, monospace" font-size="9" fill="#ffd700" text-anchor="middle">Answer:</text>
    </g>

    <!-- Generated response -->
    <g transform="translate(15, 220)">
      <rect x="0" y="0" width="220" height="80" rx="8" fill="#ffd700" opacity="0.15"/>
      <text x="110" y="20" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="11" fill="#ffd700" text-anchor="middle" font-weight="bold">Generated Response:</text>
      <text x="110" y="42" font-family="Georgia, serif" font-size="10" fill="#aaa" text-anchor="middle">"Aspirin can cause stomach</text>
      <text x="110" y="56" font-family="Georgia, serif" font-size="10" fill="#aaa" text-anchor="middle">upset, heartburn, and rarely</text>
      <text x="110" y="70" font-family="Georgia, serif" font-size="10" fill="#aaa" text-anchor="middle">bleeding complications."</text>
    </g>
  </g>

  <!-- Arrows to LLM -->
  <path d="M 560 240 L 990 240" fill="none" stroke="#666" stroke-width="2" stroke-dasharray="8,4"/>
  <path d="M 960 430 L 1000 360" fill="none" stroke="#4ecdc4" stroke-width="3" marker-end="url(#arrowTeal)"/>

  <!-- Benefits Section -->
  <g transform="translate(80, 570)">
    <text x="0" y="0" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="18" font-weight="bold" fill="white">Why RAG?</text>

    <g transform="translate(0, 30)">
      <rect x="0" y="0" width="280" height="70" rx="10" fill="#252540"/>
      <text x="140" y="25" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="13" fill="#4ecdc4" text-anchor="middle" font-weight="bold">Reduced Hallucinations</text>
      <text x="140" y="48" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="11" fill="#888" text-anchor="middle">Grounds answers in real documents</text>
    </g>

    <g transform="translate(300, 30)">
      <rect x="0" y="0" width="280" height="70" rx="10" fill="#252540"/>
      <text x="140" y="25" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="13" fill="#ffd700" text-anchor="middle" font-weight="bold">Up-to-Date Knowledge</text>
      <text x="140" y="48" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="11" fill="#888" text-anchor="middle">No need to retrain for new info</text>
    </g>

    <g transform="translate(600, 30)">
      <rect x="0" y="0" width="280" height="70" rx="10" fill="#252540"/>
      <text x="140" y="25" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="13" fill="#9966cc" text-anchor="middle" font-weight="bold">Domain Specialization</text>
      <text x="140" y="48" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="11" fill="#888" text-anchor="middle">Custom knowledge bases</text>
    </g>

    <g transform="translate(900, 30)">
      <rect x="0" y="0" width="280" height="70" rx="10" fill="#252540"/>
      <text x="140" y="25" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="13" fill="#4a9eff" text-anchor="middle" font-weight="bold">Verifiable Sources</text>
      <text x="140" y="48" font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="11" fill="#888" text-anchor="middle">Can cite original documents</text>
    </g>
  </g>

  <!-- Pipeline labels -->
  <g transform="translate(672, 690)">
    <text font-family="SF Pro Display, SF Pro, -apple-system, sans-serif" font-size="14" fill="#666" text-anchor="middle">
      <tspan fill="#4a9eff">1. RETRIEVE</tspan>
      <tspan fill="#666"> relevant documents → </tspan>
      <tspan fill="#4ecdc4">2. AUGMENT</tspan>
      <tspan fill="#666"> the prompt → </tspan>
      <tspan fill="#ffd700">3. GENERATE</tspan>
      <tspan fill="#666"> grounded response</tspan>
    </text>
  </g>

</svg>
